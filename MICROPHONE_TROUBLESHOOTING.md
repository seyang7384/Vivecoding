# 마이크 인식 문제 해결 가이드

## 🔍 문제 진단

브라우저 개발자 도구(F12)를 열고 다음을 확인해주세요:

### 1. 콘솔 로그 확인
1. `F12` 키를 눌러 개발자 도구를 엽니다
2. `Console` 탭으로 이동합니다
3. 마이크 버튼을 클릭합니다
4. 다음과 같은 로그를 확인하세요:

```
🎤 Requesting microphone access...
✅ Microphone access granted
📼 Recording format: audio/webm
🔴 Recording started
```

### 2. 권한 문제

#### Chrome에서 마이크 권한 확인:
1. 주소창 왼쪽의 🔒 자물쇠 아이콘 클릭
2. "마이크" 항목 찾기
3. "허용"으로 변경
4. 페이지 새로고침 (F5)

#### Edge에서 마이크 권한 확인:
- Chrome과 동일한 방법

### 3. 일반적인 오류 메시지와 해결 방법

#### "마이크 권한이 거부되었습니다"
→ 위의 "권한 문제" 섹션을 따라 권한을 허용하세요.

#### "마이크를 찾을 수 없습니다"
→ 마이크가 컴퓨터에 연결되어 있는지 확인하세요.
→ Windows 설정 > 소리 > 입력 에서 마이크가 활성화되어 있는지 확인하세요.

#### "이 브라우저는 오디오 녹음을 지원하지 않습니다"
→ Chrome 또는 Edge 브라우저를 사용하세요.
→ HTTPS로 접속했는지 확인하세요 (localhost는 HTTP도 가능).

### 4. 테스트 방법

1. 음성 관제 (HQ) 페이지로 이동
2. 역할 선택
3. **마이크 버튼을 클릭** (한 번만)
4. 빨간색으로 변하면 **2-3초간 말하기**
5. **버튼을 다시 클릭**하여 녹음 종료
6. "AI가 기록을 정리 중..." 메시지 확인
7. 최종 텍스트가 대화 로그에 표시됨

### 5. Mock 모드로 테스트

API 키가 없어도 동작을 확인할 수 있습니다:
- 녹음 → 1초 대기 → "송미령님 침 치료 끝났습니다." 자동 표시
- 이것이 표시되면 기본 플로우는 정상 작동하는 것입니다

### 6. 추가 디버깅

콘솔에 다음과 같은 이모지가 포함된 로그가 표시됩니다:
- 🎤 마이크 요청
- ✅ 성공
- ❌ 실패
- 📼 녹음 형식
- 📦 오디오 데이터 수신
- 🤖 AI 처리 시작

로그를 확인하여 어느 단계에서 문제가 발생하는지 파악하세요.

## 💡 빠른 해결책

가장 흔한 원인은 **마이크 권한**입니다:
1. 주소창의 🔒 자물쇠 클릭
2. 마이크 "허용"
3. 페이지 새로고침
4. 다시 시도
